(()=>{"use strict";const e=window.React,t=window.wc.wcBlocksRegistry,a=window.wp.htmlEntities,n=window.wc.wcSettings,o=window.wp.i18n,c=window.wp.data,i=window.wc.wcBlocksData,p=(0,n.getSetting)("quadpay_data",{}),s=t=>{const{extensionCartUpdate:a}=wc.blocksCheckout,{eventRegistration:n,emitResponse:o}=t,{onPaymentSetup:c}=n;(0,e.useEffect)((()=>{a({namespace:"quadpay",data:{mfpp:"add"}});const e=c((()=>({type:o.responseTypes.SUCCESS})));return()=>(a({namespace:"quadpay",data:{mfpp:"remove"}}),e())}),[c])},d=(0,a.decodeEntities)(p.title)||(0,o.__)("Zip - Pay over time","woo_quadpay"),r={name:"quadpay",label:(0,e.createElement)((t=>{const{PaymentMethodLabel:a}=t.components;return(0,e.createElement)(a,{text:d})}),null),content:p.enable_payment_widget?(0,e.createElement)((t=>{p.mfpp&&s(t);const a=(0,c.useSelect)((e=>e(i.CART_STORE_KEY).getCartTotals()));return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("zip-payment-widget",{amount:a.total_price/100,merchantId:p.merchant_id||void 0}))}),null):(0,e.createElement)((e=>(p.mfpp&&s(e),(0,a.decodeEntities)(p.description||""))),null),edit:null,canMakePayment:()=>!0,ariaLabel:d,supports:{features:p.supports}};(0,t.registerPaymentMethod)(r)})();